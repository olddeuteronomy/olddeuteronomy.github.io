<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Tree-Sitter on The Emacs Cat</title>
    <link>https://olddeuteronomy.github.io/tags/tree-sitter/</link>
    <description>Recent content in Tree-Sitter on The Emacs Cat</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Mon, 05 Dec 2022 14:14:13 +0300</lastBuildDate>
    <atom:link href="https://olddeuteronomy.github.io/tags/tree-sitter/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>A Simple tree-sitter Config That Works</title>
      <link>https://olddeuteronomy.github.io/post/a-tree-sitter-config-that-works/</link>
      <pubDate>Mon, 05 Dec 2022 14:14:13 +0300</pubDate>
      <guid>https://olddeuteronomy.github.io/post/a-tree-sitter-config-that-works/</guid>
      <description>&lt;p&gt;Recently, I&amp;rsquo;ve discovered a number of posts on Reddit — like&#xA;&lt;a href=&#34;https://www.reddit.com/r/emacs/comments/zc70m8/treesitterhlmode_does_not_do_anything/&#34;&gt;tree-sitter-hl-mode does not do&#xA;anything&lt;/a&gt;&#xA;or &lt;a href=&#34;https://www.reddit.com/r/emacs/comments/zbpa42/how_to_use_emacs_29_treesitter/&#34;&gt;How to use Emacs 29&#xA;Tree-sitter?&lt;/a&gt;&#xA;— and decided to share my simple &lt;code&gt;tree-sitter&lt;/code&gt; setup that&#xA;seems to be working on my Emacs 28.2 like a charm.&lt;/p&gt;&#xA;&lt;h2 id=&#34;step-1-os-installing-the--tree-sitter-app&#34;&gt;Step 1. OS: Installing the  &lt;code&gt;tree-sitter&lt;/code&gt; app&lt;/h2&gt;&#xA;&lt;p&gt;First of all, I&amp;rsquo;ve downloaded the latest pre-build binary archive for my&#xA;system from this &lt;a href=&#34;https://github.com/tree-sitter/tree-sitter/releases/tag/v0.20.7&#34;&gt;GitHub&#xA;repo&lt;/a&gt;,&#xA;in my case that is &lt;em&gt;tree-sitter-linux-x64.gz&lt;/em&gt; because I&amp;rsquo;m on Pop!_OS&#xA;20.10. Then I&amp;rsquo;ve unpack the archive, put the standalone binary in my&#xA;&lt;code&gt;$HOME/bin&lt;/code&gt; that is in my &lt;code&gt;$PATH&lt;/code&gt; and therefore is accessible from&#xA;anywhere, and changed its mode to &lt;em&gt;executable&lt;/em&gt; by &lt;code&gt;chmod +x tree-sitter&lt;/code&gt;.&lt;/p&gt;&#xA;&lt;figure&gt;&lt;img src=&#34;https://olddeuteronomy.github.io/img/tree-sitter-bin.png&#34;/&gt;&lt;figcaption&gt;&#xA;            &lt;h4&gt;The latest tree-sitter app is installed.&lt;/h4&gt;&#xA;        &lt;/figcaption&gt;&#xA;&lt;/figure&gt;&#xA;&#xA;&lt;h2 id=&#34;step-2-emacs&#34;&gt;Step 2. Emacs&lt;/h2&gt;&#xA;&lt;h3 id=&#34;step-21-emacs-installing-tree-sitter-packages&#34;&gt;Step 2.1. Emacs: Installing &lt;code&gt;tree-sitter&lt;/code&gt; packages&lt;/h3&gt;&#xA;&lt;p&gt;Then I&amp;rsquo;ve installed &lt;code&gt;tree-sitter&lt;/code&gt; (the parsing system) and &lt;code&gt;tree-sitter-langs&lt;/code&gt;&#xA;(the grammar bundle) Emacs packages using &lt;code&gt;package-list-packages&lt;/code&gt;.&lt;/p&gt;&#xA;&lt;figure&gt;&lt;img src=&#34;https://olddeuteronomy.github.io/img/tree-sitter-packages.png&#34;/&gt;&lt;figcaption&gt;&#xA;            &lt;h4&gt;The tree-sitter packages are installed.&lt;/h4&gt;&#xA;        &lt;/figcaption&gt;&#xA;&lt;/figure&gt;&#xA;&#xA;&lt;h3 id=&#34;step-22-emacs-configuring-tree-sitter&#34;&gt;Step 2.2. Emacs: Configuring &lt;code&gt;tree-sitter&lt;/code&gt;&lt;/h3&gt;&#xA;&lt;p&gt;I&amp;rsquo;ve added the following lines to my &lt;code&gt;~/.emacs&lt;/code&gt;.&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-elisp&#34; data-lang=&#34;elisp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;;;;; `TREE-SITTER&amp;#39;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;;; 2022-12-04&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(require &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;tree-sitter&lt;/span&gt;)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(require &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;tree-sitter-langs&lt;/span&gt;)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(global-tree-sitter-mode)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(add-hook &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;python-mode-hook&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;#&amp;#39;&lt;/span&gt;tree-sitter-hl-mode)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;That&amp;rsquo;s it. Quite simple, isn&amp;rsquo;t it?&lt;/p&gt;&#xA;&lt;p&gt;Please pay attention to the last line. It seems that the &lt;em&gt;tree-sitter&#xA;highlighting mode&lt;/em&gt; provided by &lt;code&gt;tree-sitter-hl-mode&lt;/code&gt; is not activated when&#xA;you load a file into the buffer even if the &lt;em&gt;global tree sitter mode&lt;/em&gt; is on.&#xA;Adding the hook for the particular source code mode solves this problem.&lt;/p&gt;&#xA;&lt;h2 id=&#34;result&#34;&gt;Result&lt;/h2&gt;&#xA;&lt;figure&gt;&lt;img src=&#34;https://olddeuteronomy.github.io/img/tree-sitter-python.png&#34;/&gt;&#xA;&lt;/figure&gt;&#xA;&#xA;&lt;p&gt;Now I have a pretty looking Python code.&lt;/p&gt;&#xA;&lt;p&gt;More on &lt;code&gt;tree-sitter&lt;/code&gt; and its internals can be found at &lt;a href=&#34;https://tree-sitter.github.io/tree-sitter/&#34;&gt;https://tree-sitter.github.io/tree-sitter/&lt;/a&gt;.&lt;/p&gt;&#xA;&lt;p&gt;Happy tree-sittering!&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
